---
import "../styles.css";

const nav = [
    {
        href: "/events",
        text: "Events",
    },
    {
        href: "/bands",
        text: "Bands",
    },
    {
        href: "/venues",
        text: "Venues",
    },
    {
        href: "/about",
        text: "About",
    },
];
const active = nav.find(({ href }) => Astro.url.pathname.startsWith(href));
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Righteous&display=swap"
            rel="stylesheet"
        />

        <title>CorvallisALT</title>
    </head>
    <body>
        <header>
            <nav>
                <a href="/">
                    <h1>Corvallis<span>Alt</span></h1>
                </a>
                <ul>
                    {
                        nav.map((link) => (
                            <li class={active === link ? "active" : ""}>
                                <a href={link.href}>{link.text}</a>
                            </li>
                        ))
                    }
                </ul>
            </nav>
        </header>
        <slot />
        <footer>
            <nav>
                <ul>
                    {
                        nav.map(({ href, text }) => (
                            <li>
                                <a href={href}>{text}</a>
                            </li>
                        ))
                    }
                </ul>
            </nav>
        </footer>
    </body>
</html>

<style>
    body {
        display: flex;
        flex-direction: column;
    }
    nav {
        display: flex;
        gap: 0 1rem;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
    }

    nav li {
        border-bottom: 2px solid transparent;
    }
    nav .active {
        border-color: currentColor;
    }

    nav h1 {
        margin: 0;
        white-space: nowrap;
    }

    nav ul {
        font-size: larger;
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    h1 {
        color: var(--color);
    }
    h1 span {
        color: var(--primary);
        text-transform: uppercase;
    }

    header {
        padding: 0 0 2rem 0;
    }

    footer {
        background-color: var(--primary);
        color: white;

        padding: 2rem;
        margin: 5rem -2rem -2rem -2rem;
    }

    footer a {
        color: var(--background);
    }
    footer nav {
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>
